
connect {
     controller "smarxdocker2.ddns.net:8090"
     account "customer1"
     user "admin"
     password "admin"
 }



calculate (""" export aggregated 'Success Rate (%)' as sla
                        from 'Application Infrastructure Performance'. * as cluster . 'Hardware Resources|Service Availability'. '1'
                         on Application 'Server & Infrastructure Monitoring'
                         for 1 minutes 10 minutes ago
           """, {
            reportMetric("slaDoublePrecision|${cluster}|1|SLAhigh",avg('sla')*1000);
           })

calculate (""" export aggregated 'Success Rate (%)' as sla
                        from 'Application Infrastructure Performance'. 'Root\\|Master\\|Cluster' . 'Hardware Resources|Service Availability'. '1'
                         on Application 'Server & Infrastructure Monitoring'
                         for 1 minutes 10 minutes ago
           """, {
    reportMetric("slaDoublePrecision2|nope|1|SLAhigh",avg('sla')*1000);
})

//Application Infrastructure Performance|Root|Master|Cluster|Individual Nodes|NSKDHJ|Hardware Resources|CPU|System

calculate (""" export '%Busy' as busyCPU
                        from 'Application Infrastructure Performance'. 'Root\\|Master\\|Cluster' . 'Individual Nodes|NSKDHJ|Hardware Resources|CPU'
                         on Application 'Server & Infrastructure Monitoring'
                         for 10 minutes 60 minutes ago
           """, {
    reportMetric("slaDoublePrecision3|nope|1|SLAhigh",avg('busyCPU'));
})